{"ast":null,"code":"var _jsxFileName = \"D:\\\\pywork\\\\iams\\\\iams\\\\frontend\\\\src\\\\pages\\\\QuestionnairesPage.tsx\",\n  _s = $RefreshSig$();\n// src/pages/QuestionnairesPage.tsx\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Plus, ClipboardList, Edit, Eye, Trash2, Copy, Download, ChevronDown, ChevronUp, Search, Filter, Sparkles } from 'lucide-react';\nimport { questionnaireApi } from '../api';\nimport { SECTOR_LABELS, TEMPLATE_TYPE_LABELS, QUESTION_TYPE_LABELS, SENSITIVITY_LABELS, SECTOR_COLORS } from '../types';\nimport { Card, Button, Input, Select, Modal, Badge, Textarea, LoadingSpinner } from '../components/ui';\n\n// ============== TYPES ==============\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// ============== OPTIONS ==============\nconst sectorOptions = Object.entries(SECTOR_LABELS).map(([value, label]) => ({\n  value,\n  label\n}));\nconst templateTypeOptions = Object.entries(TEMPLATE_TYPE_LABELS).map(([value, label]) => ({\n  value,\n  label\n}));\nconst questionTypeOptions = Object.entries(QUESTION_TYPE_LABELS).map(([value, label]) => ({\n  value,\n  label\n}));\nconst sectionTypeOptions = [{\n  value: 'universal',\n  label: 'Universal Baseline'\n}, {\n  value: 'situational',\n  label: 'Situational Assessment'\n}, {\n  value: 'sector_specific',\n  label: 'Sector-Specific'\n}, {\n  value: 'impact_evaluation',\n  label: 'Impact Evaluation'\n}, {\n  value: 'demographics',\n  label: 'Demographics'\n}, {\n  value: 'economic',\n  label: 'Economic Profile'\n}, {\n  value: 'verification',\n  label: 'Verification'\n}, {\n  value: 'custom',\n  label: 'Custom'\n}];\nconst categoryOptions = [{\n  value: 'identification',\n  label: 'Identification & Demographics'\n}, {\n  value: 'household',\n  label: 'Household Composition'\n}, {\n  value: 'economic',\n  label: 'Economic Profile'\n}, {\n  value: 'education',\n  label: 'Education & Skills'\n}, {\n  value: 'health',\n  label: 'Health & Nutrition'\n}, {\n  value: 'time_availability',\n  label: 'Time Availability'\n}, {\n  value: 'mobility',\n  label: 'Mobility & Access'\n}, {\n  value: 'family_dynamics',\n  label: 'Family Dynamics'\n}, {\n  value: 'intervention',\n  label: 'Program/Intervention'\n}, {\n  value: 'outcomes',\n  label: 'Outcomes & Impact'\n}, {\n  value: 'sustainability',\n  label: 'Sustainability'\n}, {\n  value: 'verification',\n  label: 'Verification'\n}, {\n  value: 'custom',\n  label: 'Custom'\n}];\nconst sensitivityOptions = Object.entries(SENSITIVITY_LABELS).map(([value, label]) => ({\n  value,\n  label\n}));\n\n// ============== MAIN COMPONENT ==============\nconst QuestionnairesPage = () => {\n  _s();\n  // View State\n  const [viewMode, setViewMode] = useState('list');\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  const [expandedSections, setExpandedSections] = useState(new Set());\n\n  // Data State\n  const [templates, setTemplates] = useState([]);\n  const [statistics, setStatistics] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Filter State\n  const [sectorFilter, setSectorFilter] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n  const [aiEnabledFilter, setAiEnabledFilter] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Modal State\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showSectionModal, setShowSectionModal] = useState(false);\n  const [showQuestionModal, setShowQuestionModal] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [editingSection, setEditingSection] = useState(null);\n  const [editingQuestion, setEditingQuestion] = useState(null);\n  const [activeSection, setActiveSection] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Template Form State\n  const [templateForm, setTemplateForm] = useState({\n    id: null,\n    name: '',\n    description: '',\n    sector: 'general',\n    template_type: 'baseline',\n    version: '1.0',\n    is_default: false,\n    is_active: true,\n    ai_interview_enabled: true,\n    estimated_duration_minutes: 30\n  });\n\n  // Section Form State\n  const [sectionForm, setSectionForm] = useState({\n    title: '',\n    description: '',\n    section_type: 'custom',\n    order: 0,\n    is_conditional: false,\n    ai_section_intro: ''\n  });\n\n  // Question Form State\n  const [questionForm, setQuestionForm] = useState({\n    text: '',\n    help_text: '',\n    question_type: 'text',\n    category: 'custom',\n    options: [],\n    is_required: true,\n    order: 0,\n    sensitivity_level: 'low',\n    ai_probing_hints: ''\n  });\n  const [optionsText, setOptionsText] = useState('');\n\n  // ============== DATA FETCHING ==============\n  const fetchTemplates = useCallback(async () => {\n    try {\n      setLoading(true);\n      const params = {};\n      if (sectorFilter) params.sector = sectorFilter;\n      if (typeFilter) params.template_type = typeFilter;\n      if (aiEnabledFilter) params.ai_interview_enabled = aiEnabledFilter === 'true';\n      if (searchQuery) params.search = searchQuery;\n      const response = await questionnaireApi.getTemplates(params);\n      setTemplates(response.results || []);\n      setError(null);\n    } catch (err) {\n      console.error('Error loading templates:', err);\n      setError(err.message || 'Failed to fetch templates');\n    } finally {\n      setLoading(false);\n    }\n  }, [sectorFilter, typeFilter, aiEnabledFilter, searchQuery]);\n  const fetchStatistics = async () => {\n    try {\n      const data = await questionnaireApi.getStatistics();\n      setStatistics(data);\n    } catch (err) {\n      console.error('Failed to fetch statistics:', err);\n    }\n  };\n  const fetchTemplateDetail = async id => {\n    try {\n      setLoading(true);\n      const data = await questionnaireApi.getTemplate(id);\n      setSelectedTemplate(data);\n      setViewMode('detail');\n      setError(null);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch template');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchTemplates();\n    fetchStatistics();\n  }, [fetchTemplates]);\n\n  // ============== TEMPLATE HANDLERS ==============\n  const resetTemplateForm = () => {\n    setTemplateForm({\n      id: null,\n      name: '',\n      description: '',\n      sector: 'general',\n      template_type: 'baseline',\n      version: '1.0',\n      is_default: false,\n      is_active: true,\n      ai_interview_enabled: true,\n      estimated_duration_minutes: 30\n    });\n    setIsEditMode(false);\n    setError(null);\n  };\n  const handleTemplateSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    setError(null);\n    try {\n      const payload = {\n        name: templateForm.name,\n        description: templateForm.description,\n        sector: templateForm.sector,\n        template_type: templateForm.template_type,\n        version: templateForm.version,\n        is_default: templateForm.is_default,\n        is_active: templateForm.is_active,\n        ai_interview_enabled: templateForm.ai_interview_enabled,\n        estimated_duration_minutes: templateForm.estimated_duration_minutes\n      };\n      if (isEditMode && templateForm.id) {\n        await questionnaireApi.updateTemplate(templateForm.id, payload);\n      } else {\n        await questionnaireApi.createTemplate(payload);\n      }\n      resetTemplateForm();\n      setShowCreateModal(false);\n      fetchTemplates();\n      fetchStatistics();\n    } catch (err) {\n      console.error('Error saving template:', err);\n      setError(err.message || 'Failed to save template');\n    }\n    setSubmitting(false);\n  };\n  const handleEditTemplate = template => {\n    setTemplateForm({\n      id: template.id,\n      name: template.name || '',\n      description: template.description || '',\n      sector: template.sector || 'general',\n      template_type: template.template_type || 'baseline',\n      version: template.version || '1.0',\n      is_default: template.is_default || false,\n      is_active: template.is_active !== false,\n      ai_interview_enabled: template.ai_interview_enabled !== false,\n      estimated_duration_minutes: template.estimated_duration_minutes || 30\n    });\n    setIsEditMode(true);\n    setShowCreateModal(true);\n  };\n  const handleClone = async template => {\n    if (!window.confirm(`Clone \"${template.name}\"?`)) return;\n    try {\n      await questionnaireApi.cloneTemplate(template.id);\n      fetchTemplates();\n      fetchStatistics();\n    } catch (err) {\n      alert(err.message || 'Failed to clone template');\n    }\n  };\n  const handleDelete = async template => {\n    if (!window.confirm(`Delete \"${template.name}\"? This cannot be undone.`)) return;\n    try {\n      await questionnaireApi.deleteTemplate(template.id);\n      fetchTemplates();\n      fetchStatistics();\n    } catch (err) {\n      alert(err.message || 'Failed to delete template');\n    }\n  };\n  const handleExport = async template => {\n    try {\n      const data = await questionnaireApi.exportTemplate(template.id);\n      const blob = new Blob([JSON.stringify(data, null, 2)], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${template.name.replace(/\\s+/g, '_')}_v${template.version}.json`;\n      a.click();\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      alert(err.message || 'Failed to export template');\n    }\n  };\n\n  // ============== SECTION HANDLERS ==============\n  const toggleSection = sectionId => {\n    setExpandedSections(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(sectionId)) {\n        newSet.delete(sectionId);\n      } else {\n        newSet.add(sectionId);\n      }\n      return newSet;\n    });\n  };\n  const openSectionModal = section => {\n    if (section) {\n      setEditingSection(section);\n      setSectionForm({\n        title: section.title,\n        description: section.description,\n        section_type: section.section_type,\n        order: section.order,\n        is_conditional: section.is_conditional,\n        ai_section_intro: section.ai_section_intro\n      });\n    } else {\n      var _selectedTemplate$sec;\n      setEditingSection(null);\n      const maxOrder = (selectedTemplate === null || selectedTemplate === void 0 ? void 0 : (_selectedTemplate$sec = selectedTemplate.sections) === null || _selectedTemplate$sec === void 0 ? void 0 : _selectedTemplate$sec.length) || 0;\n      setSectionForm({\n        title: '',\n        description: '',\n        section_type: 'custom',\n        order: maxOrder,\n        is_conditional: false,\n        ai_section_intro: ''\n      });\n    }\n    setShowSectionModal(true);\n  };\n  const handleSaveSection = async () => {\n    if (!selectedTemplate) return;\n    setSubmitting(true);\n    try {\n      if (editingSection) {\n        await questionnaireApi.updateSection(editingSection.id, sectionForm);\n      } else {\n        await questionnaireApi.createSection({\n          ...sectionForm,\n          template: selectedTemplate.id\n        });\n      }\n      setShowSectionModal(false);\n      fetchTemplateDetail(selectedTemplate.id);\n    } catch (err) {\n      alert(err.message || 'Failed to save section');\n    }\n    setSubmitting(false);\n  };\n  const handleDeleteSection = async section => {\n    if (!window.confirm(`Delete section \"${section.title}\"?`)) return;\n    try {\n      await questionnaireApi.deleteSection(section.id);\n      if (selectedTemplate) {\n        fetchTemplateDetail(selectedTemplate.id);\n      }\n    } catch (err) {\n      alert(err.message || 'Failed to delete section');\n    }\n  };\n\n  // ============== QUESTION HANDLERS ==============\n  const openQuestionModal = (section, question) => {\n    setActiveSection(section);\n    if (question) {\n      var _question$options;\n      setEditingQuestion(question);\n      setQuestionForm({\n        text: question.text,\n        help_text: question.help_text,\n        question_type: question.question_type,\n        category: question.category,\n        options: question.options,\n        is_required: question.is_required,\n        order: question.order,\n        sensitivity_level: question.sensitivity_level,\n        ai_probing_hints: question.ai_probing_hints\n      });\n      setOptionsText(((_question$options = question.options) === null || _question$options === void 0 ? void 0 : _question$options.join('\\n')) || '');\n    } else {\n      var _section$questions;\n      setEditingQuestion(null);\n      const maxOrder = ((_section$questions = section.questions) === null || _section$questions === void 0 ? void 0 : _section$questions.length) || 0;\n      setQuestionForm({\n        text: '',\n        help_text: '',\n        question_type: 'text',\n        category: 'custom',\n        options: [],\n        is_required: true,\n        order: maxOrder,\n        sensitivity_level: 'low',\n        ai_probing_hints: ''\n      });\n      setOptionsText('');\n    }\n    setShowQuestionModal(true);\n  };\n  const handleSaveQuestion = async () => {\n    if (!activeSection || !selectedTemplate) return;\n    setSubmitting(true);\n    try {\n      const options = optionsText.split('\\n').filter(o => o.trim());\n      const data = {\n        ...questionForm,\n        options\n      };\n      if (editingQuestion) {\n        await questionnaireApi.updateQuestion(editingQuestion.id, data);\n      } else {\n        await questionnaireApi.createQuestion({\n          ...data,\n          section: activeSection.id\n        });\n      }\n      setShowQuestionModal(false);\n      fetchTemplateDetail(selectedTemplate.id);\n    } catch (err) {\n      alert(err.message || 'Failed to save question');\n    }\n    setSubmitting(false);\n  };\n  const handleDeleteQuestion = async question => {\n    if (!window.confirm('Delete this question?')) return;\n    try {\n      await questionnaireApi.deleteQuestion(question.id);\n      if (selectedTemplate) {\n        fetchTemplateDetail(selectedTemplate.id);\n      }\n    } catch (err) {\n      alert(err.message || 'Failed to delete question');\n    }\n  };\n\n  // ============== HELPERS ==============\n  const getSectorColor = sector => {\n    return SECTOR_COLORS[sector] || '#6B7280';\n  };\n  const getSectorBgClass = sector => {\n    const colors = {\n      agriculture: 'bg-green-100 text-green-700',\n      education: 'bg-blue-100 text-blue-700',\n      healthcare: 'bg-red-100 text-red-700',\n      women_empowerment: 'bg-pink-100 text-pink-700',\n      livelihood: 'bg-yellow-100 text-yellow-700',\n      wash: 'bg-cyan-100 text-cyan-700',\n      housing: 'bg-purple-100 text-purple-700',\n      financial_inclusion: 'bg-lime-100 text-lime-700',\n      child_welfare: 'bg-orange-100 text-orange-700',\n      general: 'bg-gray-100 text-gray-700'\n    };\n    return colors[sector] || 'bg-gray-100 text-gray-700';\n  };\n\n  // ============== RENDER: STATISTICS ==============\n  const renderStatistics = () => {\n    if (!statistics) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: statistics.total_templates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Total Templates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: statistics.active_templates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Active Templates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-purple-600\",\n          children: statistics.ai_enabled_templates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: \"AI-Enabled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-orange-600\",\n          children: statistics.total_questions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Total Questions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ============== RENDER: FILTERS ==============\n  const renderFilters = () => /*#__PURE__*/_jsxDEV(Card, {\n    className: \"p-4 mb-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-4 h-4 inline mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), \"Search\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Search templates...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-4 h-4 inline mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), \"Sector\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: sectorFilter,\n          onChange: e => setSectorFilter(e.target.value),\n          options: [{\n            value: '',\n            label: 'All Sectors'\n          }, ...sectorOptions]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: typeFilter,\n          onChange: e => setTypeFilter(e.target.value),\n          options: [{\n            value: '',\n            label: 'All Types'\n          }, ...templateTypeOptions]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            className: \"w-4 h-4 inline mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this), \"AI Interview\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: aiEnabledFilter,\n          onChange: e => setAiEnabledFilter(e.target.value),\n          options: [{\n            value: '',\n            label: 'All'\n          }, {\n            value: 'true',\n            label: 'AI Enabled'\n          }, {\n            value: 'false',\n            label: 'AI Disabled'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 518,\n    columnNumber: 5\n  }, this);\n\n  // ============== RENDER: LIST VIEW ==============\n  const renderListView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [renderStatistics(), renderFilters(), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Card, {\n      className: \"p-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: fetchTemplates,\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 9\n    }, this) : templates.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n      className: \"p-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n        className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-2\",\n        children: \"No Templates Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: searchQuery || sectorFilter || typeFilter ? 'Try adjusting your filters' : 'Get started by creating your first questionnaire template'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          resetTemplateForm();\n          setShowCreateModal(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this), \" Create Template\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [templates.map(template => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 hover:shadow-lg transition-shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0\",\n            style: {\n              backgroundColor: `${getSectorColor(template.sector)}20`\n            },\n            children: /*#__PURE__*/_jsxDEV(ClipboardList, {\n              className: \"w-6 h-6\",\n              style: {\n                color: getSectorColor(template.sector)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900 truncate cursor-pointer hover:text-emerald-600\",\n                onClick: () => fetchTemplateDetail(template.id),\n                children: template.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-1 flex-shrink-0\",\n                children: [template.is_default && /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"info\",\n                  children: \"Default\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 47\n                }, this), template.ai_interview_enabled && /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"success\",\n                  children: /*#__PURE__*/_jsxDEV(Sparkles, {\n                    className: \"w-3 h-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block px-2 py-0.5 rounded text-xs font-medium ${getSectorBgClass(template.sector)}`,\n                children: template.sector_display || SECTOR_LABELS[template.sector] || template.sector\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-2 line-clamp-2\",\n              children: template.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4 mt-3 text-xs text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [template.total_sections || 0, \" sections\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [template.total_questions || 0, \" questions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"v\", template.version]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => fetchTemplateDetail(template.id),\n                className: \"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 font-medium\",\n                children: [/*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"w-3.5 h-3.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 23\n                }, this), \" View\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditTemplate(template),\n                className: \"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800\",\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"w-3.5 h-3.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 23\n                }, this), \" Edit\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleClone(template),\n                className: \"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800\",\n                children: [/*#__PURE__*/_jsxDEV(Copy, {\n                  className: \"w-3.5 h-3.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 23\n                }, this), \" Clone\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleExport(template),\n                className: \"flex items-center gap-1 text-sm text-green-600 hover:text-green-800\",\n                children: /*#__PURE__*/_jsxDEV(Download, {\n                  className: \"w-3.5 h-3.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this), !template.is_default && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(template),\n                className: \"flex items-center gap-1 text-sm text-red-600 hover:text-red-800 ml-auto\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"w-3.5 h-3.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 15\n        }, this)\n      }, template.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 border-2 border-dashed border-gray-300 hover:border-emerald-500 hover:bg-emerald-50 transition-all cursor-pointer flex items-center justify-center min-h-[280px]\",\n        onClick: () => {\n          resetTemplateForm();\n          setShowCreateModal(true);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\",\n            children: /*#__PURE__*/_jsxDEV(Plus, {\n              className: \"w-6 h-6 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 font-medium\",\n            children: \"Create New Template\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Start from scratch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 571,\n    columnNumber: 5\n  }, this);\n\n  // ============== RENDER: DETAIL VIEW ==============\n  const renderDetailView = () => {\n    var _selectedTemplate$sec2;\n    if (!selectedTemplate) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setViewMode('list');\n                setSelectedTemplate(null);\n              },\n              className: \"text-blue-600 hover:text-blue-800 mb-2 flex items-center gap-1 text-sm\",\n              children: \"\\u2190 Back to Templates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: selectedTemplate.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mt-1\",\n              children: selectedTemplate.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center gap-2 mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded text-sm font-medium ${getSectorBgClass(selectedTemplate.sector)}`,\n                children: selectedTemplate.sector_display || SECTOR_LABELS[selectedTemplate.sector]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"default\",\n                children: selectedTemplate.template_type_display || TEMPLATE_TYPE_LABELS[selectedTemplate.template_type]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"v\", selectedTemplate.version]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 17\n              }, this), selectedTemplate.ai_interview_enabled && /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"success\",\n                children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                  className: \"w-3 h-3 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 726,\n                  columnNumber: 21\n                }, this), \" AI Interview\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this), selectedTemplate.estimated_duration_minutes && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"~\", selectedTemplate.estimated_duration_minutes, \" min\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => handleEditTemplate(selectedTemplate),\n              children: [/*#__PURE__*/_jsxDEV(Edit, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 17\n              }, this), \" Edit\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => openSectionModal(),\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 17\n              }, this), \" Add Section\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [(_selectedTemplate$sec2 = selectedTemplate.sections) === null || _selectedTemplate$sec2 === void 0 ? void 0 : _selectedTemplate$sec2.map(section => {\n          var _section$questions2;\n          return /*#__PURE__*/_jsxDEV(Card, {\n            className: \"overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50\",\n              onClick: () => toggleSection(section.id),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [expandedSections.has(section.id) ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                  className: \"w-5 h-5 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                  className: \"w-5 h-5 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 760,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: section.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [section.question_count || ((_section$questions2 = section.questions) === null || _section$questions2 === void 0 ? void 0 : _section$questions2.length) || 0, \" questions\", section.section_type && section.section_type !== 'custom' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 text-xs bg-gray-100 px-2 py-0.5 rounded\",\n                      children: section.section_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 767,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                onClick: e => e.stopPropagation(),\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"secondary\",\n                  onClick: () => openQuestionModal(section),\n                  children: [/*#__PURE__*/_jsxDEV(Plus, {\n                    className: \"w-3 h-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 776,\n                    columnNumber: 21\n                  }, this), \" Question\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"secondary\",\n                  onClick: () => openSectionModal(section),\n                  children: /*#__PURE__*/_jsxDEV(Edit, {\n                    className: \"w-3 h-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 779,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"secondary\",\n                  onClick: () => handleDeleteSection(section),\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-3 h-3 text-red-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 782,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 781,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 15\n            }, this), expandedSections.has(section.id) && section.questions && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t bg-gray-50\",\n              children: section.questions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 text-center text-gray-500\",\n                children: [\"No questions in this section.\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openQuestionModal(section),\n                  className: \"ml-2 text-blue-600 hover:text-blue-800\",\n                  children: \"Add one\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 792,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 21\n              }, this) : section.questions.map((question, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 border-b last:border-b-0 bg-white hover:bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 mb-1 flex-wrap\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-medium text-gray-400\",\n                        children: [\"Q\", idx + 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 808,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                        variant: \"default\",\n                        children: QUESTION_TYPE_LABELS[question.question_type] || question.question_type\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 809,\n                        columnNumber: 31\n                      }, this), question.is_required && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500 text-xs font-medium\",\n                        children: \"Required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 813,\n                        columnNumber: 33\n                      }, this), question.sensitivity_level && question.sensitivity_level !== 'low' && /*#__PURE__*/_jsxDEV(Badge, {\n                        variant: \"warning\",\n                        children: SENSITIVITY_LABELS[question.sensitivity_level]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 816,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 807,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-900\",\n                      children: question.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 821,\n                      columnNumber: 29\n                    }, this), question.options && question.options.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500 mt-1\",\n                      children: [\"Options: \", question.options.join(' | ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 823,\n                      columnNumber: 31\n                    }, this), question.help_text && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-400 mt-1 italic\",\n                      children: question.help_text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 828,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2 ml-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => openQuestionModal(section, question),\n                      className: \"text-gray-600 hover:text-gray-800\",\n                      children: /*#__PURE__*/_jsxDEV(Edit, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 836,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 832,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDeleteQuestion(question),\n                      className: \"text-red-600 hover:text-red-800\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 842,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 25\n                }, this)\n              }, question.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 17\n            }, this)]\n          }, section.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this);\n        }), (!selectedTemplate.sections || selectedTemplate.sections.length === 0) && /*#__PURE__*/_jsxDEV(Card, {\n          className: \"p-8 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n            className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 856,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 mb-4\",\n            children: \"No sections yet. Add sections to build your questionnaire.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => openSectionModal(),\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this), \" Add First Section\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ============== RENDER: MODALS ==============\n  const renderCreateTemplateModal = () => /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: showCreateModal,\n    onClose: () => {\n      setShowCreateModal(false);\n      resetTemplateForm();\n    },\n    title: isEditMode ? \"Edit Template\" : \"Create New Template\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleTemplateSubmit,\n      className: \"space-y-4\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 text-red-600 p-3 rounded-lg text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        label: \"Template Name *\",\n        name: \"name\",\n        value: templateForm.name,\n        onChange: e => setTemplateForm({\n          ...templateForm,\n          name: e.target.value\n        }),\n        placeholder: \"e.g., Agriculture Impact Assessment\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 880,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        label: \"Description *\",\n        name: \"description\",\n        value: templateForm.description,\n        onChange: e => setTemplateForm({\n          ...templateForm,\n          description: e.target.value\n        }),\n        placeholder: \"Brief description of the questionnaire purpose\",\n        required: true,\n        rows: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 889,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          label: \"Sector *\",\n          name: \"sector\",\n          value: templateForm.sector,\n          onChange: e => setTemplateForm({\n            ...templateForm,\n            sector: e.target.value\n          }),\n          options: sectorOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Template Type *\",\n          name: \"template_type\",\n          value: templateForm.template_type,\n          onChange: e => setTemplateForm({\n            ...templateForm,\n            template_type: e.target.value\n          }),\n          options: templateTypeOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 899,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          label: \"Version\",\n          name: \"version\",\n          value: templateForm.version,\n          onChange: e => setTemplateForm({\n            ...templateForm,\n            version: e.target.value\n          }),\n          placeholder: \"1.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Est. Duration (minutes)\",\n          name: \"estimated_duration_minutes\",\n          type: \"number\",\n          value: templateForm.estimated_duration_minutes,\n          onChange: e => setTemplateForm({\n            ...templateForm,\n            estimated_duration_minutes: parseInt(e.target.value) || 30\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: templateForm.ai_interview_enabled,\n            onChange: e => setTemplateForm({\n              ...templateForm,\n              ai_interview_enabled: e.target.checked\n            }),\n            className: \"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700\",\n            children: \"Enable AI Interview for this template\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: templateForm.is_default,\n            onChange: e => setTemplateForm({\n              ...templateForm,\n              is_default: e.target.checked\n            }),\n            className: \"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700\",\n            children: \"Set as default template for this sector\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: templateForm.is_active,\n            onChange: e => setTemplateForm({\n              ...templateForm,\n              is_active: e.target.checked\n            }),\n            className: \"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 953,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700\",\n            children: \"Active (available for use)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 933,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 pt-4 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          type: \"button\",\n          onClick: () => {\n            setShowCreateModal(false);\n            resetTemplateForm();\n          },\n          disabled: submitting,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: submitting,\n          children: submitting ? 'Saving...' : isEditMode ? 'Update Template' : 'Create Template'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 963,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 870,\n    columnNumber: 5\n  }, this);\n  const renderSectionModal = () => /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: showSectionModal,\n    onClose: () => setShowSectionModal(false),\n    title: editingSection ? 'Edit Section' : 'Add Section',\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        label: \"Section Title *\",\n        value: sectionForm.title,\n        onChange: e => setSectionForm({\n          ...sectionForm,\n          title: e.target.value\n        }),\n        placeholder: \"e.g., Demographic Information\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 987,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        label: \"Description\",\n        value: sectionForm.description,\n        onChange: e => setSectionForm({\n          ...sectionForm,\n          description: e.target.value\n        }),\n        placeholder: \"Brief description of this section\",\n        rows: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        label: \"Section Type\",\n        value: sectionForm.section_type,\n        onChange: e => setSectionForm({\n          ...sectionForm,\n          section_type: e.target.value\n        }),\n        options: sectionTypeOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1003,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        label: \"AI Section Introduction\",\n        value: sectionForm.ai_section_intro,\n        onChange: e => setSectionForm({\n          ...sectionForm,\n          ai_section_intro: e.target.value\n        }),\n        placeholder: \"How the AI interviewer should introduce this section\",\n        rows: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1010,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"flex items-center gap-2 cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: sectionForm.is_conditional,\n          onChange: e => setSectionForm({\n            ...sectionForm,\n            is_conditional: e.target.checked\n          }),\n          className: \"w-4 h-4 text-emerald-600 border-gray-300 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-700\",\n          children: \"Conditional section\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1025,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1018,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 pt-4 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setShowSectionModal(false),\n          disabled: submitting,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSaveSection,\n          disabled: !sectionForm.title || submitting,\n          children: submitting ? 'Saving...' : editingSection ? 'Save Changes' : 'Add Section'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1028,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 986,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 981,\n    columnNumber: 5\n  }, this);\n  const renderQuestionModal = () => {\n    const needsOptions = ['single_choice', 'multiple_choice', 'dropdown', 'ranking'].includes(questionForm.question_type);\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showQuestionModal,\n      onClose: () => setShowQuestionModal(false),\n      title: editingQuestion ? 'Edit Question' : 'Add Question',\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 max-h-[70vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Textarea, {\n          label: \"Question Text *\",\n          value: questionForm.text,\n          onChange: e => setQuestionForm({\n            ...questionForm,\n            text: e.target.value\n          }),\n          placeholder: \"Enter your question\",\n          rows: 2,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1050,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            label: \"Question Type *\",\n            value: questionForm.question_type,\n            onChange: e => setQuestionForm({\n              ...questionForm,\n              question_type: e.target.value\n            }),\n            options: questionTypeOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            label: \"Category\",\n            value: questionForm.category,\n            onChange: e => setQuestionForm({\n              ...questionForm,\n              category: e.target.value\n            }),\n            options: categoryOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 11\n        }, this), needsOptions && /*#__PURE__*/_jsxDEV(Textarea, {\n          label: \"Options (one per line) *\",\n          value: optionsText,\n          onChange: e => setOptionsText(e.target.value),\n          placeholder: \"Option 1\\nOption 2\\nOption 3\",\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Help Text\",\n          value: questionForm.help_text,\n          onChange: e => setQuestionForm({\n            ...questionForm,\n            help_text: e.target.value\n          }),\n          placeholder: \"Additional guidance for respondents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            label: \"Sensitivity Level\",\n            value: questionForm.sensitivity_level,\n            onChange: e => setQuestionForm({\n              ...questionForm,\n              sensitivity_level: e.target.value\n            }),\n            options: sensitivityOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center pt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: questionForm.is_required,\n                onChange: e => setQuestionForm({\n                  ...questionForm,\n                  is_required: e.target.checked\n                }),\n                className: \"w-4 h-4 text-emerald-600 border-gray-300 rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-700\",\n                children: \"Required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1091,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n          label: \"AI Probing Hints\",\n          value: questionForm.ai_probing_hints,\n          onChange: e => setQuestionForm({\n            ...questionForm,\n            ai_probing_hints: e.target.value\n          }),\n          placeholder: \"Hints for AI on how to probe deeper\",\n          rows: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4 border-t sticky bottom-0 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setShowQuestionModal(false),\n            disabled: submitting,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSaveQuestion,\n            disabled: !questionForm.text || needsOptions && !optionsText.trim() || submitting,\n            children: submitting ? 'Saving...' : editingQuestion ? 'Save Changes' : 'Add Question'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1044,\n      columnNumber: 7\n    }, this);\n  };\n\n  // ============== MAIN RENDER ==============\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Questionnaires\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mt-1\",\n          children: \"Manage survey templates and questions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1140,\n        columnNumber: 9\n      }, this), viewMode === 'list' && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          resetTemplateForm();\n          setShowCreateModal(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1146,\n          columnNumber: 13\n        }, this), \" New Template\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1139,\n      columnNumber: 7\n    }, this), viewMode === 'list' ? renderListView() : renderDetailView(), renderCreateTemplateModal(), renderSectionModal(), renderQuestionModal()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1137,\n    columnNumber: 5\n  }, this);\n};\n_s(QuestionnairesPage, \"t9SLX4qm/CwymWtqMCGZuVwH2IY=\");\n_c = QuestionnairesPage;\nexport default QuestionnairesPage;\nvar _c;\n$RefreshReg$(_c, \"QuestionnairesPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Plus","ClipboardList","Edit","Eye","Trash2","Copy","Download","ChevronDown","ChevronUp","Search","Filter","Sparkles","questionnaireApi","SECTOR_LABELS","TEMPLATE_TYPE_LABELS","QUESTION_TYPE_LABELS","SENSITIVITY_LABELS","SECTOR_COLORS","Card","Button","Input","Select","Modal","Badge","Textarea","LoadingSpinner","jsxDEV","_jsxDEV","sectorOptions","Object","entries","map","value","label","templateTypeOptions","questionTypeOptions","sectionTypeOptions","categoryOptions","sensitivityOptions","QuestionnairesPage","_s","viewMode","setViewMode","selectedTemplate","setSelectedTemplate","expandedSections","setExpandedSections","Set","templates","setTemplates","statistics","setStatistics","loading","setLoading","error","setError","sectorFilter","setSectorFilter","typeFilter","setTypeFilter","aiEnabledFilter","setAiEnabledFilter","searchQuery","setSearchQuery","showCreateModal","setShowCreateModal","showSectionModal","setShowSectionModal","showQuestionModal","setShowQuestionModal","isEditMode","setIsEditMode","editingSection","setEditingSection","editingQuestion","setEditingQuestion","activeSection","setActiveSection","submitting","setSubmitting","templateForm","setTemplateForm","id","name","description","sector","template_type","version","is_default","is_active","ai_interview_enabled","estimated_duration_minutes","sectionForm","setSectionForm","title","section_type","order","is_conditional","ai_section_intro","questionForm","setQuestionForm","text","help_text","question_type","category","options","is_required","sensitivity_level","ai_probing_hints","optionsText","setOptionsText","fetchTemplates","params","search","response","getTemplates","results","err","console","message","fetchStatistics","data","getStatistics","fetchTemplateDetail","getTemplate","resetTemplateForm","handleTemplateSubmit","e","preventDefault","payload","updateTemplate","createTemplate","handleEditTemplate","template","handleClone","window","confirm","cloneTemplate","alert","handleDelete","deleteTemplate","handleExport","exportTemplate","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","replace","click","revokeObjectURL","toggleSection","sectionId","prev","newSet","has","delete","add","openSectionModal","section","_selectedTemplate$sec","maxOrder","sections","length","handleSaveSection","updateSection","createSection","handleDeleteSection","deleteSection","openQuestionModal","question","_question$options","join","_section$questions","questions","handleSaveQuestion","split","filter","o","trim","updateQuestion","createQuestion","handleDeleteQuestion","deleteQuestion","getSectorColor","getSectorBgClass","colors","agriculture","education","healthcare","women_empowerment","livelihood","wash","housing","financial_inclusion","child_welfare","general","renderStatistics","className","children","total_templates","fileName","_jsxFileName","lineNumber","columnNumber","active_templates","ai_enabled_templates","total_questions","renderFilters","placeholder","onChange","target","renderListView","onClick","style","backgroundColor","color","variant","sector_display","total_sections","renderDetailView","_selectedTemplate$sec2","template_type_display","_section$questions2","question_count","stopPropagation","size","idx","renderCreateTemplateModal","isOpen","onClose","onSubmit","required","rows","parseInt","checked","disabled","renderSectionModal","renderQuestionModal","needsOptions","includes","_c","$RefreshReg$"],"sources":["D:/pywork/iams/iams/frontend/src/pages/QuestionnairesPage.tsx"],"sourcesContent":["// src/pages/QuestionnairesPage.tsx\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Plus, ClipboardList, Edit, Eye, Trash2, Copy, Download, ChevronDown, ChevronUp, Search, Filter, Sparkles } from 'lucide-react';\nimport { questionnaireApi } from '../api';\nimport {\n  QuestionnaireTemplate,\n  QuestionnaireSection,\n  Question,\n  QuestionnaireStatistics,\n  QuestionnaireSector,\n  TemplateType,\n  QuestionType,\n  SectionType,\n  QuestionCategory,\n  SensitivityLevel,\n  SECTOR_LABELS,\n  TEMPLATE_TYPE_LABELS,\n  QUESTION_TYPE_LABELS,\n  SENSITIVITY_LABELS,\n  SECTOR_COLORS,\n} from '../types';\nimport { Card, Button, Input, Select, Modal, Badge, Textarea, LoadingSpinner } from '../components/ui';\n\n// ============== TYPES ==============\ntype ViewMode = 'list' | 'detail';\n\ninterface SectionFormData {\n  title: string;\n  description: string;\n  section_type: SectionType;\n  order: number;\n  is_conditional: boolean;\n  ai_section_intro: string;\n}\n\ninterface QuestionFormData {\n  text: string;\n  help_text: string;\n  question_type: QuestionType;\n  category: QuestionCategory;\n  options: string[];\n  is_required: boolean;\n  order: number;\n  sensitivity_level: SensitivityLevel;\n  ai_probing_hints: string;\n}\n\n// ============== OPTIONS ==============\nconst sectorOptions = Object.entries(SECTOR_LABELS).map(([value, label]) => ({\n  value,\n  label,\n}));\n\nconst templateTypeOptions = Object.entries(TEMPLATE_TYPE_LABELS).map(([value, label]) => ({\n  value,\n  label,\n}));\n\nconst questionTypeOptions = Object.entries(QUESTION_TYPE_LABELS).map(([value, label]) => ({\n  value,\n  label,\n}));\n\nconst sectionTypeOptions = [\n  { value: 'universal', label: 'Universal Baseline' },\n  { value: 'situational', label: 'Situational Assessment' },\n  { value: 'sector_specific', label: 'Sector-Specific' },\n  { value: 'impact_evaluation', label: 'Impact Evaluation' },\n  { value: 'demographics', label: 'Demographics' },\n  { value: 'economic', label: 'Economic Profile' },\n  { value: 'verification', label: 'Verification' },\n  { value: 'custom', label: 'Custom' },\n];\n\nconst categoryOptions = [\n  { value: 'identification', label: 'Identification & Demographics' },\n  { value: 'household', label: 'Household Composition' },\n  { value: 'economic', label: 'Economic Profile' },\n  { value: 'education', label: 'Education & Skills' },\n  { value: 'health', label: 'Health & Nutrition' },\n  { value: 'time_availability', label: 'Time Availability' },\n  { value: 'mobility', label: 'Mobility & Access' },\n  { value: 'family_dynamics', label: 'Family Dynamics' },\n  { value: 'intervention', label: 'Program/Intervention' },\n  { value: 'outcomes', label: 'Outcomes & Impact' },\n  { value: 'sustainability', label: 'Sustainability' },\n  { value: 'verification', label: 'Verification' },\n  { value: 'custom', label: 'Custom' },\n];\n\nconst sensitivityOptions = Object.entries(SENSITIVITY_LABELS).map(([value, label]) => ({\n  value,\n  label,\n}));\n\n// ============== MAIN COMPONENT ==============\nconst QuestionnairesPage: React.FC = () => {\n  // View State\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\n  const [selectedTemplate, setSelectedTemplate] = useState<QuestionnaireTemplate | null>(null);\n  const [expandedSections, setExpandedSections] = useState<Set<number>>(new Set());\n\n  // Data State\n  const [templates, setTemplates] = useState<QuestionnaireTemplate[]>([]);\n  const [statistics, setStatistics] = useState<QuestionnaireStatistics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Filter State\n  const [sectorFilter, setSectorFilter] = useState<string>('');\n  const [typeFilter, setTypeFilter] = useState<string>('');\n  const [aiEnabledFilter, setAiEnabledFilter] = useState<string>('');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Modal State\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showSectionModal, setShowSectionModal] = useState(false);\n  const [showQuestionModal, setShowQuestionModal] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [editingSection, setEditingSection] = useState<QuestionnaireSection | null>(null);\n  const [editingQuestion, setEditingQuestion] = useState<Question | null>(null);\n  const [activeSection, setActiveSection] = useState<QuestionnaireSection | null>(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Template Form State\n  const [templateForm, setTemplateForm] = useState({\n    id: null as number | null,\n    name: '',\n    description: '',\n    sector: 'general' as QuestionnaireSector,\n    template_type: 'baseline' as TemplateType,\n    version: '1.0',\n    is_default: false,\n    is_active: true,\n    ai_interview_enabled: true,\n    estimated_duration_minutes: 30,\n  });\n\n  // Section Form State\n  const [sectionForm, setSectionForm] = useState<SectionFormData>({\n    title: '',\n    description: '',\n    section_type: 'custom',\n    order: 0,\n    is_conditional: false,\n    ai_section_intro: '',\n  });\n\n  // Question Form State\n  const [questionForm, setQuestionForm] = useState<QuestionFormData>({\n    text: '',\n    help_text: '',\n    question_type: 'text',\n    category: 'custom',\n    options: [],\n    is_required: true,\n    order: 0,\n    sensitivity_level: 'low',\n    ai_probing_hints: '',\n  });\n\n  const [optionsText, setOptionsText] = useState('');\n\n  // ============== DATA FETCHING ==============\n  const fetchTemplates = useCallback(async () => {\n    try {\n      setLoading(true);\n      const params: Record<string, string | boolean | undefined> = {};\n      \n      if (sectorFilter) params.sector = sectorFilter;\n      if (typeFilter) params.template_type = typeFilter;\n      if (aiEnabledFilter) params.ai_interview_enabled = aiEnabledFilter === 'true';\n      if (searchQuery) params.search = searchQuery;\n\n      const response = await questionnaireApi.getTemplates(params);\n      setTemplates(response.results || []);\n      setError(null);\n    } catch (err: any) {\n      console.error('Error loading templates:', err);\n      setError(err.message || 'Failed to fetch templates');\n    } finally {\n      setLoading(false);\n    }\n  }, [sectorFilter, typeFilter, aiEnabledFilter, searchQuery]);\n\n  const fetchStatistics = async () => {\n    try {\n      const data = await questionnaireApi.getStatistics();\n      setStatistics(data);\n    } catch (err) {\n      console.error('Failed to fetch statistics:', err);\n    }\n  };\n\n  const fetchTemplateDetail = async (id: number) => {\n    try {\n      setLoading(true);\n      const data = await questionnaireApi.getTemplate(id);\n      setSelectedTemplate(data);\n      setViewMode('detail');\n      setError(null);\n    } catch (err: any) {\n      setError(err.message || 'Failed to fetch template');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTemplates();\n    fetchStatistics();\n  }, [fetchTemplates]);\n\n  // ============== TEMPLATE HANDLERS ==============\n  const resetTemplateForm = () => {\n    setTemplateForm({\n      id: null,\n      name: '',\n      description: '',\n      sector: 'general',\n      template_type: 'baseline',\n      version: '1.0',\n      is_default: false,\n      is_active: true,\n      ai_interview_enabled: true,\n      estimated_duration_minutes: 30,\n    });\n    setIsEditMode(false);\n    setError(null);\n  };\n\n  const handleTemplateSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitting(true);\n    setError(null);\n\n    try {\n      const payload = {\n        name: templateForm.name,\n        description: templateForm.description,\n        sector: templateForm.sector,\n        template_type: templateForm.template_type,\n        version: templateForm.version,\n        is_default: templateForm.is_default,\n        is_active: templateForm.is_active,\n        ai_interview_enabled: templateForm.ai_interview_enabled,\n        estimated_duration_minutes: templateForm.estimated_duration_minutes,\n      };\n\n      if (isEditMode && templateForm.id) {\n        await questionnaireApi.updateTemplate(templateForm.id, payload);\n      } else {\n        await questionnaireApi.createTemplate(payload);\n      }\n\n      resetTemplateForm();\n      setShowCreateModal(false);\n      fetchTemplates();\n      fetchStatistics();\n    } catch (err: any) {\n      console.error('Error saving template:', err);\n      setError(err.message || 'Failed to save template');\n    }\n    setSubmitting(false);\n  };\n\n  const handleEditTemplate = (template: QuestionnaireTemplate) => {\n    setTemplateForm({\n      id: template.id,\n      name: template.name || '',\n      description: template.description || '',\n      sector: template.sector || 'general',\n      template_type: template.template_type || 'baseline',\n      version: template.version || '1.0',\n      is_default: template.is_default || false,\n      is_active: template.is_active !== false,\n      ai_interview_enabled: template.ai_interview_enabled !== false,\n      estimated_duration_minutes: template.estimated_duration_minutes || 30,\n    });\n    setIsEditMode(true);\n    setShowCreateModal(true);\n  };\n\n  const handleClone = async (template: QuestionnaireTemplate) => {\n    if (!window.confirm(`Clone \"${template.name}\"?`)) return;\n    \n    try {\n      await questionnaireApi.cloneTemplate(template.id);\n      fetchTemplates();\n      fetchStatistics();\n    } catch (err: any) {\n      alert(err.message || 'Failed to clone template');\n    }\n  };\n\n  const handleDelete = async (template: QuestionnaireTemplate) => {\n    if (!window.confirm(`Delete \"${template.name}\"? This cannot be undone.`)) return;\n    \n    try {\n      await questionnaireApi.deleteTemplate(template.id);\n      fetchTemplates();\n      fetchStatistics();\n    } catch (err: any) {\n      alert(err.message || 'Failed to delete template');\n    }\n  };\n\n  const handleExport = async (template: QuestionnaireTemplate) => {\n    try {\n      const data = await questionnaireApi.exportTemplate(template.id);\n      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${template.name.replace(/\\s+/g, '_')}_v${template.version}.json`;\n      a.click();\n      URL.revokeObjectURL(url);\n    } catch (err: any) {\n      alert(err.message || 'Failed to export template');\n    }\n  };\n\n  // ============== SECTION HANDLERS ==============\n  const toggleSection = (sectionId: number) => {\n    setExpandedSections(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(sectionId)) {\n        newSet.delete(sectionId);\n      } else {\n        newSet.add(sectionId);\n      }\n      return newSet;\n    });\n  };\n\n  const openSectionModal = (section?: QuestionnaireSection) => {\n    if (section) {\n      setEditingSection(section);\n      setSectionForm({\n        title: section.title,\n        description: section.description,\n        section_type: section.section_type,\n        order: section.order,\n        is_conditional: section.is_conditional,\n        ai_section_intro: section.ai_section_intro,\n      });\n    } else {\n      setEditingSection(null);\n      const maxOrder = selectedTemplate?.sections?.length || 0;\n      setSectionForm({\n        title: '',\n        description: '',\n        section_type: 'custom',\n        order: maxOrder,\n        is_conditional: false,\n        ai_section_intro: '',\n      });\n    }\n    setShowSectionModal(true);\n  };\n\n  const handleSaveSection = async () => {\n    if (!selectedTemplate) return;\n    setSubmitting(true);\n    \n    try {\n      if (editingSection) {\n        await questionnaireApi.updateSection(editingSection.id, sectionForm);\n      } else {\n        await questionnaireApi.createSection({\n          ...sectionForm,\n          template: selectedTemplate.id,\n        });\n      }\n      setShowSectionModal(false);\n      fetchTemplateDetail(selectedTemplate.id);\n    } catch (err: any) {\n      alert(err.message || 'Failed to save section');\n    }\n    setSubmitting(false);\n  };\n\n  const handleDeleteSection = async (section: QuestionnaireSection) => {\n    if (!window.confirm(`Delete section \"${section.title}\"?`)) return;\n    \n    try {\n      await questionnaireApi.deleteSection(section.id);\n      if (selectedTemplate) {\n        fetchTemplateDetail(selectedTemplate.id);\n      }\n    } catch (err: any) {\n      alert(err.message || 'Failed to delete section');\n    }\n  };\n\n  // ============== QUESTION HANDLERS ==============\n  const openQuestionModal = (section: QuestionnaireSection, question?: Question) => {\n    setActiveSection(section);\n    if (question) {\n      setEditingQuestion(question);\n      setQuestionForm({\n        text: question.text,\n        help_text: question.help_text,\n        question_type: question.question_type,\n        category: question.category,\n        options: question.options,\n        is_required: question.is_required,\n        order: question.order,\n        sensitivity_level: question.sensitivity_level,\n        ai_probing_hints: question.ai_probing_hints,\n      });\n      setOptionsText(question.options?.join('\\n') || '');\n    } else {\n      setEditingQuestion(null);\n      const maxOrder = section.questions?.length || 0;\n      setQuestionForm({\n        text: '',\n        help_text: '',\n        question_type: 'text',\n        category: 'custom',\n        options: [],\n        is_required: true,\n        order: maxOrder,\n        sensitivity_level: 'low',\n        ai_probing_hints: '',\n      });\n      setOptionsText('');\n    }\n    setShowQuestionModal(true);\n  };\n\n  const handleSaveQuestion = async () => {\n    if (!activeSection || !selectedTemplate) return;\n    setSubmitting(true);\n    \n    try {\n      const options = optionsText.split('\\n').filter(o => o.trim());\n      const data = { ...questionForm, options };\n      \n      if (editingQuestion) {\n        await questionnaireApi.updateQuestion(editingQuestion.id, data);\n      } else {\n        await questionnaireApi.createQuestion({\n          ...data,\n          section: activeSection.id,\n        });\n      }\n      setShowQuestionModal(false);\n      fetchTemplateDetail(selectedTemplate.id);\n    } catch (err: any) {\n      alert(err.message || 'Failed to save question');\n    }\n    setSubmitting(false);\n  };\n\n  const handleDeleteQuestion = async (question: Question) => {\n    if (!window.confirm('Delete this question?')) return;\n    \n    try {\n      await questionnaireApi.deleteQuestion(question.id);\n      if (selectedTemplate) {\n        fetchTemplateDetail(selectedTemplate.id);\n      }\n    } catch (err: any) {\n      alert(err.message || 'Failed to delete question');\n    }\n  };\n\n  // ============== HELPERS ==============\n  const getSectorColor = (sector: string) => {\n    return SECTOR_COLORS[sector as QuestionnaireSector] || '#6B7280';\n  };\n\n  const getSectorBgClass = (sector: string) => {\n    const colors: Record<string, string> = {\n      agriculture: 'bg-green-100 text-green-700',\n      education: 'bg-blue-100 text-blue-700',\n      healthcare: 'bg-red-100 text-red-700',\n      women_empowerment: 'bg-pink-100 text-pink-700',\n      livelihood: 'bg-yellow-100 text-yellow-700',\n      wash: 'bg-cyan-100 text-cyan-700',\n      housing: 'bg-purple-100 text-purple-700',\n      financial_inclusion: 'bg-lime-100 text-lime-700',\n      child_welfare: 'bg-orange-100 text-orange-700',\n      general: 'bg-gray-100 text-gray-700',\n    };\n    return colors[sector] || 'bg-gray-100 text-gray-700';\n  };\n\n  // ============== RENDER: STATISTICS ==============\n  const renderStatistics = () => {\n    if (!statistics) return null;\n\n    return (\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n        <Card className=\"p-4\">\n          <div className=\"text-2xl font-bold text-blue-600\">{statistics.total_templates}</div>\n          <div className=\"text-sm text-gray-500\">Total Templates</div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"text-2xl font-bold text-green-600\">{statistics.active_templates}</div>\n          <div className=\"text-sm text-gray-500\">Active Templates</div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"text-2xl font-bold text-purple-600\">{statistics.ai_enabled_templates}</div>\n          <div className=\"text-sm text-gray-500\">AI-Enabled</div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"text-2xl font-bold text-orange-600\">{statistics.total_questions}</div>\n          <div className=\"text-sm text-gray-500\">Total Questions</div>\n        </Card>\n      </div>\n    );\n  };\n\n  // ============== RENDER: FILTERS ==============\n  const renderFilters = () => (\n    <Card className=\"p-4 mb-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            <Search className=\"w-4 h-4 inline mr-1\" />\n            Search\n          </label>\n          <Input\n            placeholder=\"Search templates...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            <Filter className=\"w-4 h-4 inline mr-1\" />\n            Sector\n          </label>\n          <Select\n            value={sectorFilter}\n            onChange={(e) => setSectorFilter(e.target.value)}\n            options={[{ value: '', label: 'All Sectors' }, ...sectorOptions]}\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Type</label>\n          <Select\n            value={typeFilter}\n            onChange={(e) => setTypeFilter(e.target.value)}\n            options={[{ value: '', label: 'All Types' }, ...templateTypeOptions]}\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            <Sparkles className=\"w-4 h-4 inline mr-1\" />\n            AI Interview\n          </label>\n          <Select\n            value={aiEnabledFilter}\n            onChange={(e) => setAiEnabledFilter(e.target.value)}\n            options={[\n              { value: '', label: 'All' },\n              { value: 'true', label: 'AI Enabled' },\n              { value: 'false', label: 'AI Disabled' },\n            ]}\n          />\n        </div>\n      </div>\n    </Card>\n  );\n\n  // ============== RENDER: LIST VIEW ==============\n  const renderListView = () => (\n    <div>\n      {renderStatistics()}\n      {renderFilters()}\n      \n      {loading ? (\n        <div className=\"flex items-center justify-center h-64\">\n          <LoadingSpinner />\n        </div>\n      ) : error ? (\n        <Card className=\"p-8 text-center\">\n          <p className=\"text-red-600 mb-4\">{error}</p>\n          <Button onClick={fetchTemplates}>Retry</Button>\n        </Card>\n      ) : templates.length === 0 ? (\n        <Card className=\"p-8 text-center\">\n          <ClipboardList className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Templates Found</h3>\n          <p className=\"text-gray-600 mb-4\">\n            {searchQuery || sectorFilter || typeFilter \n              ? 'Try adjusting your filters'\n              : 'Get started by creating your first questionnaire template'}\n          </p>\n          <Button onClick={() => { resetTemplateForm(); setShowCreateModal(true); }}>\n            <Plus className=\"w-4 h-4\" /> Create Template\n          </Button>\n        </Card>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {templates.map((template) => (\n            <Card key={template.id} className=\"p-6 hover:shadow-lg transition-shadow\">\n              <div className=\"flex items-start gap-4\">\n                <div \n                  className=\"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0\"\n                  style={{ backgroundColor: `${getSectorColor(template.sector)}20` }}\n                >\n                  <ClipboardList className=\"w-6 h-6\" style={{ color: getSectorColor(template.sector) }} />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <h3 \n                      className=\"font-semibold text-gray-900 truncate cursor-pointer hover:text-emerald-600\"\n                      onClick={() => fetchTemplateDetail(template.id)}\n                    >\n                      {template.name}\n                    </h3>\n                    <div className=\"flex gap-1 flex-shrink-0\">\n                      {template.is_default && <Badge variant=\"info\">Default</Badge>}\n                      {template.ai_interview_enabled && (\n                        <Badge variant=\"success\">\n                          <Sparkles className=\"w-3 h-3\" />\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <p className=\"text-sm text-gray-600 mt-1\">\n                    <span className={`inline-block px-2 py-0.5 rounded text-xs font-medium ${getSectorBgClass(template.sector)}`}>\n                      {template.sector_display || SECTOR_LABELS[template.sector as QuestionnaireSector] || template.sector}\n                    </span>\n                  </p>\n                  \n                  <p className=\"text-sm text-gray-500 mt-2 line-clamp-2\">{template.description}</p>\n                  \n                  <div className=\"flex items-center gap-4 mt-3 text-xs text-gray-500\">\n                    <span>{template.total_sections || 0} sections</span>\n                    <span>{template.total_questions || 0} questions</span>\n                    <span>v{template.version}</span>\n                  </div>\n\n                  <div className=\"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t\">\n                    <button\n                      onClick={() => fetchTemplateDetail(template.id)}\n                      className=\"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 font-medium\"\n                    >\n                      <Eye className=\"w-3.5 h-3.5\" /> View\n                    </button>\n                    <button\n                      onClick={() => handleEditTemplate(template)}\n                      className=\"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-800\"\n                    >\n                      <Edit className=\"w-3.5 h-3.5\" /> Edit\n                    </button>\n                    <button\n                      onClick={() => handleClone(template)}\n                      className=\"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800\"\n                    >\n                      <Copy className=\"w-3.5 h-3.5\" /> Clone\n                    </button>\n                    <button\n                      onClick={() => handleExport(template)}\n                      className=\"flex items-center gap-1 text-sm text-green-600 hover:text-green-800\"\n                    >\n                      <Download className=\"w-3.5 h-3.5\" />\n                    </button>\n                    {!template.is_default && (\n                      <button\n                        onClick={() => handleDelete(template)}\n                        className=\"flex items-center gap-1 text-sm text-red-600 hover:text-red-800 ml-auto\"\n                      >\n                        <Trash2 className=\"w-3.5 h-3.5\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </Card>\n          ))}\n\n          {/* Add new template card */}\n          <Card \n            className=\"p-6 border-2 border-dashed border-gray-300 hover:border-emerald-500 hover:bg-emerald-50 transition-all cursor-pointer flex items-center justify-center min-h-[280px]\"\n            onClick={() => { resetTemplateForm(); setShowCreateModal(true); }}\n          >\n            <div className=\"text-center\">\n              <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                <Plus className=\"w-6 h-6 text-gray-400\" />\n              </div>\n              <p className=\"text-gray-600 font-medium\">Create New Template</p>\n              <p className=\"text-sm text-gray-500 mt-1\">Start from scratch</p>\n            </div>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n\n  // ============== RENDER: DETAIL VIEW ==============\n  const renderDetailView = () => {\n    if (!selectedTemplate) return null;\n\n    return (\n      <div>\n        {/* Header */}\n        <Card className=\"p-6 mb-6\">\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <button\n                onClick={() => { setViewMode('list'); setSelectedTemplate(null); }}\n                className=\"text-blue-600 hover:text-blue-800 mb-2 flex items-center gap-1 text-sm\"\n              >\n                 Back to Templates\n              </button>\n              <h1 className=\"text-2xl font-bold text-gray-900\">{selectedTemplate.name}</h1>\n              <p className=\"text-gray-500 mt-1\">{selectedTemplate.description}</p>\n              \n              <div className=\"flex flex-wrap items-center gap-2 mt-4\">\n                <span className={`px-3 py-1 rounded text-sm font-medium ${getSectorBgClass(selectedTemplate.sector)}`}>\n                  {selectedTemplate.sector_display || SECTOR_LABELS[selectedTemplate.sector as QuestionnaireSector]}\n                </span>\n                <Badge variant=\"default\">\n                  {selectedTemplate.template_type_display || TEMPLATE_TYPE_LABELS[selectedTemplate.template_type as TemplateType]}\n                </Badge>\n                <span className=\"text-sm text-gray-500\">v{selectedTemplate.version}</span>\n                {selectedTemplate.ai_interview_enabled && (\n                  <Badge variant=\"success\">\n                    <Sparkles className=\"w-3 h-3 mr-1\" /> AI Interview\n                  </Badge>\n                )}\n                {selectedTemplate.estimated_duration_minutes && (\n                  <span className=\"text-sm text-gray-500\">\n                    ~{selectedTemplate.estimated_duration_minutes} min\n                  </span>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"flex gap-2\">\n              <Button variant=\"secondary\" onClick={() => handleEditTemplate(selectedTemplate)}>\n                <Edit className=\"w-4 h-4\" /> Edit\n              </Button>\n              <Button onClick={() => openSectionModal()}>\n                <Plus className=\"w-4 h-4\" /> Add Section\n              </Button>\n            </div>\n          </div>\n        </Card>\n\n        {/* Sections */}\n        <div className=\"space-y-4\">\n          {selectedTemplate.sections?.map((section) => (\n            <Card key={section.id} className=\"overflow-hidden\">\n              <div\n                className=\"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50\"\n                onClick={() => toggleSection(section.id)}\n              >\n                <div className=\"flex items-center gap-3\">\n                  {expandedSections.has(section.id) ? (\n                    <ChevronUp className=\"w-5 h-5 text-gray-400\" />\n                  ) : (\n                    <ChevronDown className=\"w-5 h-5 text-gray-400\" />\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">{section.title}</h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {section.question_count || section.questions?.length || 0} questions\n                      {section.section_type && section.section_type !== 'custom' && (\n                        <span className=\"ml-2 text-xs bg-gray-100 px-2 py-0.5 rounded\">\n                          {section.section_type}\n                        </span>\n                      )}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\" onClick={(e) => e.stopPropagation()}>\n                  <Button size=\"sm\" variant=\"secondary\" onClick={() => openQuestionModal(section)}>\n                    <Plus className=\"w-3 h-3\" /> Question\n                  </Button>\n                  <Button size=\"sm\" variant=\"secondary\" onClick={() => openSectionModal(section)}>\n                    <Edit className=\"w-3 h-3\" />\n                  </Button>\n                  <Button size=\"sm\" variant=\"secondary\" onClick={() => handleDeleteSection(section)}>\n                    <Trash2 className=\"w-3 h-3 text-red-500\" />\n                  </Button>\n                </div>\n              </div>\n              \n              {expandedSections.has(section.id) && section.questions && (\n                <div className=\"border-t bg-gray-50\">\n                  {section.questions.length === 0 ? (\n                    <div className=\"p-6 text-center text-gray-500\">\n                      No questions in this section.\n                      <button\n                        onClick={() => openQuestionModal(section)}\n                        className=\"ml-2 text-blue-600 hover:text-blue-800\"\n                      >\n                        Add one\n                      </button>\n                    </div>\n                  ) : (\n                    section.questions.map((question, idx) => (\n                      <div\n                        key={question.id}\n                        className=\"p-4 border-b last:border-b-0 bg-white hover:bg-gray-50\"\n                      >\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                              <span className=\"text-sm font-medium text-gray-400\">Q{idx + 1}</span>\n                              <Badge variant=\"default\">\n                                {QUESTION_TYPE_LABELS[question.question_type] || question.question_type}\n                              </Badge>\n                              {question.is_required && (\n                                <span className=\"text-red-500 text-xs font-medium\">Required</span>\n                              )}\n                              {question.sensitivity_level && question.sensitivity_level !== 'low' && (\n                                <Badge variant=\"warning\">\n                                  {SENSITIVITY_LABELS[question.sensitivity_level]}\n                                </Badge>\n                              )}\n                            </div>\n                            <p className=\"text-gray-900\">{question.text}</p>\n                            {question.options && question.options.length > 0 && (\n                              <p className=\"text-sm text-gray-500 mt-1\">\n                                Options: {question.options.join(' | ')}\n                              </p>\n                            )}\n                            {question.help_text && (\n                              <p className=\"text-sm text-gray-400 mt-1 italic\">{question.help_text}</p>\n                            )}\n                          </div>\n                          <div className=\"flex gap-2 ml-4\">\n                            <button\n                              onClick={() => openQuestionModal(section, question)}\n                              className=\"text-gray-600 hover:text-gray-800\"\n                            >\n                              <Edit className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={() => handleDeleteQuestion(question)}\n                              className=\"text-red-600 hover:text-red-800\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              )}\n            </Card>\n          ))}\n          \n          {(!selectedTemplate.sections || selectedTemplate.sections.length === 0) && (\n            <Card className=\"p-8 text-center\">\n              <ClipboardList className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n              <p className=\"text-gray-500 mb-4\">No sections yet. Add sections to build your questionnaire.</p>\n              <Button onClick={() => openSectionModal()}>\n                <Plus className=\"w-4 h-4\" /> Add First Section\n              </Button>\n            </Card>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  // ============== RENDER: MODALS ==============\n  const renderCreateTemplateModal = () => (\n    <Modal\n      isOpen={showCreateModal}\n      onClose={() => { setShowCreateModal(false); resetTemplateForm(); }}\n      title={isEditMode ? \"Edit Template\" : \"Create New Template\"}\n    >\n      <form onSubmit={handleTemplateSubmit} className=\"space-y-4\">\n        {error && (\n          <div className=\"bg-red-50 text-red-600 p-3 rounded-lg text-sm\">{error}</div>\n        )}\n\n        <Input\n          label=\"Template Name *\"\n          name=\"name\"\n          value={templateForm.name}\n          onChange={(e) => setTemplateForm({ ...templateForm, name: e.target.value })}\n          placeholder=\"e.g., Agriculture Impact Assessment\"\n          required\n        />\n\n        <Textarea\n          label=\"Description *\"\n          name=\"description\"\n          value={templateForm.description}\n          onChange={(e) => setTemplateForm({ ...templateForm, description: e.target.value })}\n          placeholder=\"Brief description of the questionnaire purpose\"\n          required\n          rows={3}\n        />\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <Select\n            label=\"Sector *\"\n            name=\"sector\"\n            value={templateForm.sector}\n            onChange={(e) => setTemplateForm({ ...templateForm, sector: e.target.value as QuestionnaireSector })}\n            options={sectorOptions}\n          />\n          <Select\n            label=\"Template Type *\"\n            name=\"template_type\"\n            value={templateForm.template_type}\n            onChange={(e) => setTemplateForm({ ...templateForm, template_type: e.target.value as TemplateType })}\n            options={templateTypeOptions}\n          />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <Input\n            label=\"Version\"\n            name=\"version\"\n            value={templateForm.version}\n            onChange={(e) => setTemplateForm({ ...templateForm, version: e.target.value })}\n            placeholder=\"1.0\"\n          />\n          <Input\n            label=\"Est. Duration (minutes)\"\n            name=\"estimated_duration_minutes\"\n            type=\"number\"\n            value={templateForm.estimated_duration_minutes}\n            onChange={(e) => setTemplateForm({ ...templateForm, estimated_duration_minutes: parseInt(e.target.value) || 30 })}\n          />\n        </div>\n\n        <div className=\"space-y-2\">\n          <label className=\"flex items-center gap-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={templateForm.ai_interview_enabled}\n              onChange={(e) => setTemplateForm({ ...templateForm, ai_interview_enabled: e.target.checked })}\n              className=\"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n            />\n            <span className=\"text-sm text-gray-700\">Enable AI Interview for this template</span>\n          </label>\n          <label className=\"flex items-center gap-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={templateForm.is_default}\n              onChange={(e) => setTemplateForm({ ...templateForm, is_default: e.target.checked })}\n              className=\"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n            />\n            <span className=\"text-sm text-gray-700\">Set as default template for this sector</span>\n          </label>\n          <label className=\"flex items-center gap-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={templateForm.is_active}\n              onChange={(e) => setTemplateForm({ ...templateForm, is_active: e.target.checked })}\n              className=\"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n            />\n            <span className=\"text-sm text-gray-700\">Active (available for use)</span>\n          </label>\n        </div>\n\n        <div className=\"flex gap-3 pt-4 border-t\">\n          <Button\n            variant=\"secondary\"\n            type=\"button\"\n            onClick={() => { setShowCreateModal(false); resetTemplateForm(); }}\n            disabled={submitting}\n          >\n            Cancel\n          </Button>\n          <Button type=\"submit\" disabled={submitting}>\n            {submitting ? 'Saving...' : (isEditMode ? 'Update Template' : 'Create Template')}\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n\n  const renderSectionModal = () => (\n    <Modal\n      isOpen={showSectionModal}\n      onClose={() => setShowSectionModal(false)}\n      title={editingSection ? 'Edit Section' : 'Add Section'}\n    >\n      <div className=\"space-y-4\">\n        <Input\n          label=\"Section Title *\"\n          value={sectionForm.title}\n          onChange={(e) => setSectionForm({ ...sectionForm, title: e.target.value })}\n          placeholder=\"e.g., Demographic Information\"\n          required\n        />\n\n        <Textarea\n          label=\"Description\"\n          value={sectionForm.description}\n          onChange={(e) => setSectionForm({ ...sectionForm, description: e.target.value })}\n          placeholder=\"Brief description of this section\"\n          rows={2}\n        />\n\n        <Select\n          label=\"Section Type\"\n          value={sectionForm.section_type}\n          onChange={(e) => setSectionForm({ ...sectionForm, section_type: e.target.value as SectionType })}\n          options={sectionTypeOptions}\n        />\n\n        <Textarea\n          label=\"AI Section Introduction\"\n          value={sectionForm.ai_section_intro}\n          onChange={(e) => setSectionForm({ ...sectionForm, ai_section_intro: e.target.value })}\n          placeholder=\"How the AI interviewer should introduce this section\"\n          rows={2}\n        />\n\n        <label className=\"flex items-center gap-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={sectionForm.is_conditional}\n            onChange={(e) => setSectionForm({ ...sectionForm, is_conditional: e.target.checked })}\n            className=\"w-4 h-4 text-emerald-600 border-gray-300 rounded\"\n          />\n          <span className=\"text-sm text-gray-700\">Conditional section</span>\n        </label>\n\n        <div className=\"flex gap-3 pt-4 border-t\">\n          <Button variant=\"secondary\" onClick={() => setShowSectionModal(false)} disabled={submitting}>\n            Cancel\n          </Button>\n          <Button onClick={handleSaveSection} disabled={!sectionForm.title || submitting}>\n            {submitting ? 'Saving...' : (editingSection ? 'Save Changes' : 'Add Section')}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n\n  const renderQuestionModal = () => {\n    const needsOptions = ['single_choice', 'multiple_choice', 'dropdown', 'ranking'].includes(questionForm.question_type);\n\n    return (\n      <Modal\n        isOpen={showQuestionModal}\n        onClose={() => setShowQuestionModal(false)}\n        title={editingQuestion ? 'Edit Question' : 'Add Question'}\n      >\n        <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\n          <Textarea\n            label=\"Question Text *\"\n            value={questionForm.text}\n            onChange={(e) => setQuestionForm({ ...questionForm, text: e.target.value })}\n            placeholder=\"Enter your question\"\n            rows={2}\n            required\n          />\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Select\n              label=\"Question Type *\"\n              value={questionForm.question_type}\n              onChange={(e) => setQuestionForm({ ...questionForm, question_type: e.target.value as QuestionType })}\n              options={questionTypeOptions}\n            />\n            <Select\n              label=\"Category\"\n              value={questionForm.category}\n              onChange={(e) => setQuestionForm({ ...questionForm, category: e.target.value as QuestionCategory })}\n              options={categoryOptions}\n            />\n          </div>\n\n          {needsOptions && (\n            <Textarea\n              label=\"Options (one per line) *\"\n              value={optionsText}\n              onChange={(e) => setOptionsText(e.target.value)}\n              placeholder=\"Option 1&#10;Option 2&#10;Option 3\"\n              rows={4}\n            />\n          )}\n\n          <Input\n            label=\"Help Text\"\n            value={questionForm.help_text}\n            onChange={(e) => setQuestionForm({ ...questionForm, help_text: e.target.value })}\n            placeholder=\"Additional guidance for respondents\"\n          />\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Select\n              label=\"Sensitivity Level\"\n              value={questionForm.sensitivity_level}\n              onChange={(e) => setQuestionForm({ ...questionForm, sensitivity_level: e.target.value as SensitivityLevel })}\n              options={sensitivityOptions}\n            />\n            <div className=\"flex items-center pt-6\">\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={questionForm.is_required}\n                  onChange={(e) => setQuestionForm({ ...questionForm, is_required: e.target.checked })}\n                  className=\"w-4 h-4 text-emerald-600 border-gray-300 rounded\"\n                />\n                <span className=\"text-sm text-gray-700\">Required</span>\n              </label>\n            </div>\n          </div>\n\n          <Textarea\n            label=\"AI Probing Hints\"\n            value={questionForm.ai_probing_hints}\n            onChange={(e) => setQuestionForm({ ...questionForm, ai_probing_hints: e.target.value })}\n            placeholder=\"Hints for AI on how to probe deeper\"\n            rows={2}\n          />\n\n          <div className=\"flex gap-3 pt-4 border-t sticky bottom-0 bg-white\">\n            <Button variant=\"secondary\" onClick={() => setShowQuestionModal(false)} disabled={submitting}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSaveQuestion}\n              disabled={!questionForm.text || (needsOptions && !optionsText.trim()) || submitting}\n            >\n              {submitting ? 'Saving...' : (editingQuestion ? 'Save Changes' : 'Add Question')}\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    );\n  };\n\n  // ============== MAIN RENDER ==============\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Questionnaires</h1>\n          <p className=\"text-gray-500 mt-1\">Manage survey templates and questions</p>\n        </div>\n        {viewMode === 'list' && (\n          <Button onClick={() => { resetTemplateForm(); setShowCreateModal(true); }}>\n            <Plus className=\"w-4 h-4\" /> New Template\n          </Button>\n        )}\n      </div>\n\n      {/* Content */}\n      {viewMode === 'list' ? renderListView() : renderDetailView()}\n\n      {/* Modals */}\n      {renderCreateTemplateModal()}\n      {renderSectionModal()}\n      {renderQuestionModal()}\n    </div>\n  );\n};\n\nexport default QuestionnairesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}