{"ast":null,"code":"var _jsxFileName = \"D:\\\\pywork\\\\iams\\\\iams\\\\frontend\\\\src\\\\pages\\\\QuestionnairesPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Plus, ClipboardList } from 'lucide-react';\nimport api, { endpoints } from '../api';\nimport { Card, Button, Badge, LoadingSpinner } from '../components/ui';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuestionnairesPage = () => {\n  _s();\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n  useEffect(() => {\n    loadTemplates();\n  }, []);\n  const loadTemplates = async () => {\n    try {\n      const data = await api.get(endpoints.templates);\n      setTemplates(Array.isArray(data) ? data : data.results);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    }\n    setLoading(false);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Questionnaires\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mt-1\",\n          children: \"Manage survey templates and questions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), \" New Template\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [templates.map(template => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 hover:shadow-md transition-shadow cursor-pointer\",\n        onClick: () => setSelectedTemplate(template),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(ClipboardList, {\n              className: \"w-6 h-6 text-emerald-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), template.is_default && /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"success\",\n            children: \"Default\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-900\",\n          children: template.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: template.sector_display\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-400 mt-2 line-clamp-2\",\n          children: template.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4 mt-4 pt-4 border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500\",\n            children: [template.section_count, \" sections\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500\",\n            children: [template.question_count, \" questions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, template.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 border-dashed border-2 hover:border-emerald-300 transition-colors cursor-pointer flex flex-col items-center justify-center text-gray-400 hover:text-emerald-600 min-h-[200px]\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"w-12 h-12 mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: \"Create New Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(QuestionnairesPage, \"jsiCKdwwBhopTP1TuH2argGyoa0=\");\n_c = QuestionnairesPage;\nexport default QuestionnairesPage;\nvar _c;\n$RefreshReg$(_c, \"QuestionnairesPage\");","map":{"version":3,"names":["React","useState","useEffect","Plus","ClipboardList","api","endpoints","Card","Button","Badge","LoadingSpinner","jsxDEV","_jsxDEV","QuestionnairesPage","_s","templates","setTemplates","loading","setLoading","selectedTemplate","setSelectedTemplate","loadTemplates","data","get","Array","isArray","results","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","template","onClick","is_default","variant","name","sector_display","description","section_count","question_count","id","_c","$RefreshReg$"],"sources":["D:/pywork/iams/iams/frontend/src/pages/QuestionnairesPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, ClipboardList } from 'lucide-react';\nimport api, { endpoints } from '../api';\nimport { QuestionnaireTemplate, PaginatedResponse } from '../types';\nimport { Card, Button, Badge, LoadingSpinner } from '../components/ui';\n\nconst QuestionnairesPage: React.FC = () => {\n  const [templates, setTemplates] = useState<QuestionnaireTemplate[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [selectedTemplate, setSelectedTemplate] = useState<QuestionnaireTemplate | null>(null);\n\n  useEffect(() => {\n    loadTemplates();\n  }, []);\n\n  const loadTemplates = async () => {\n    try {\n      const data = await api.get<PaginatedResponse<QuestionnaireTemplate> | QuestionnaireTemplate[]>(\n        endpoints.templates\n      );\n      setTemplates(Array.isArray(data) ? data : data.results);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    }\n    setLoading(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Questionnaires</h1>\n          <p className=\"text-gray-500 mt-1\">Manage survey templates and questions</p>\n        </div>\n        <Button>\n          <Plus className=\"w-4 h-4\" /> New Template\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {templates.map(template => (\n          <Card \n            key={template.id} \n            className=\"p-6 hover:shadow-md transition-shadow cursor-pointer\"\n            onClick={() => setSelectedTemplate(template)}\n          >\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className=\"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center\">\n                <ClipboardList className=\"w-6 h-6 text-emerald-600\" />\n              </div>\n              {template.is_default && (\n                <Badge variant=\"success\">Default</Badge>\n              )}\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">{template.name}</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">{template.sector_display}</p>\n            <p className=\"text-sm text-gray-400 mt-2 line-clamp-2\">{template.description}</p>\n            <div className=\"flex items-center gap-4 mt-4 pt-4 border-t\">\n              <span className=\"text-sm text-gray-500\">\n                {template.section_count} sections\n              </span>\n              <span className=\"text-sm text-gray-500\">\n                {template.question_count} questions\n              </span>\n            </div>\n          </Card>\n        ))}\n\n        {/* Add new template card */}\n        <Card className=\"p-6 border-dashed border-2 hover:border-emerald-300 transition-colors cursor-pointer flex flex-col items-center justify-center text-gray-400 hover:text-emerald-600 min-h-[200px]\">\n          <Plus className=\"w-12 h-12 mb-2\" />\n          <p className=\"font-medium\">Create New Template</p>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default QuestionnairesPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}